## 问题诊断

**根本原因**：Obsidian Canvas 的 `edge-add`/`edge-create` 事件在用户手动创建边时不会被触发，MutationObserver 也没有正确检测到边的添加。

**当前行为**：
1. 边删除 → 节点标记为浮动状态（红框）✓
2. 边恢复 → 没有事件触发，红框保持 ✗
3. arrange → 检测到入边，清除浮动状态 ✓

## 解决方案

修改 `node-select` 事件处理，当用户选择节点时，检查该节点是否有入边且处于浮动状态，如果是，立即清除浮动状态。

**具体修改**：
在 `canvas-manager.ts` 的 `canvas.on('node-select', ...)` 中添加逻辑：
1. 获取当前选中的节点
2. 检查节点是否有入边（检查 `canvas.edges`）
3. 检查节点是否处于浮动状态（检查内存中的 `floatingNodes`）
4. 如果都有，调用 `clearFloatingNodeState` 清除浮动状态

**代码位置**：`src/canvas/canvas-manager.ts` 第 338-340 行

## 预期效果

当用户删除边后，节点变成浮动状态（红框）。当用户重新创建边后，节点被选中，触发 `node-select` 事件，立即清除浮动状态（红框消失），无需等待 arrange。